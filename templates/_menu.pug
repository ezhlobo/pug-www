mixin menu
  mixin menuGroup(path)
    - var isCurrent = path === dirname(id)

    a.nav-link= _.menu[path]

    ul.nav.nav-pills.nav-stacked
      block

  mixin menuItemTemplate(href, text, isActive = false)
    a.nav-link(
      href=href
      class={active: isActive}
    )= text
  
  mixin menuItem(path)
    +menuItemTemplate(
      relative(dirname(id), path + '.html'), 
      _.menu[path], 
      path === id
    )

  // nav placeholder
  nav.nav.nav-pills.nav-stacked
    .advert
    +menuGroup('api')
      +menuItem('api/getting-started')
      +menuItem('api/express')
      +menuItem('api/reference')
      +menuItem('api/migration-v2')
      +menuItemTemplate(
        'https://github.com/pugjs/babel-plugin-transform-react-pug', 
        'React Integration'
      )

    +menuGroup('language')
      +menuItem('language/attributes')
      +menuItem('language/case')
      +menuItem('language/code')
      +menuItem('language/comments')
      +menuItem('language/conditionals')
      +menuItem('language/doctype')
      +menuItem('language/filters')
      +menuItem('language/includes')
      +menuItem('language/inheritance')
      +menuItem('language/interpolation')
      +menuItem('language/iteration')
      +menuItem('language/mixins')
      +menuItem('language/plain-text')
      +menuItem('language/tags')

    .nav-link Sponsors
      a.sponsor(href="https://icons8.com/icon")
        img(src="https://png.icons8.com/color/icons8/100" width="50" height="50" alt="Icons8, a free icon pack")
        | Icons8
      - for (var i = 0; i < 5; i++)
        a.sponsor(href=`https://opencollective.com/pug/sponsor/${i}/website` target="_blank")
          img(src=`https://opencollective.com/pug/sponsor/${i}/avatar.svg` height="64")
